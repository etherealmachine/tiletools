import{s as k,n as U,r as q,i as $,b as x}from"../chunks/scheduler.37e983f9.js";import{S as B,i as C,g as o,s as T,h as u,j as w,f as g,c as A,k as d,l as c,a as N,x as s,z as j,r as z,u as F,v as H,d as J,t as K,w as O}from"../chunks/index.fbbb3e38.js";import{r as Q}from"../chunks/files.efb1155b.js";function W(t){let e,n,i,a,l,v,D,f,_,p,r,y,E,m,b,V,G;return{c(){e=o("div"),n=o("div"),i=o("label"),a=o("input"),l=T(),v=o("img"),D=T(),f=o("div"),_=o("label"),p=o("input"),r=T(),y=o("img"),E=T(),m=o("div"),b=o("img"),this.h()},l(I){e=u(I,"DIV",{style:!0});var h=w(e);n=u(h,"DIV",{style:!0});var L=w(n);i=u(L,"LABEL",{for:!0});var P=w(i);a=u(P,"INPUT",{name:!0,type:!0,accept:!0}),P.forEach(g),l=A(L),v=u(L,"IMG",{alt:!0}),L.forEach(g),D=A(h),f=u(h,"DIV",{style:!0});var M=w(f);_=u(M,"LABEL",{for:!0});var R=w(_);p=u(R,"INPUT",{name:!0,type:!0,accept:!0}),R.forEach(g),r=A(M),y=u(M,"IMG",{alt:!0}),M.forEach(g),E=A(h),m=u(h,"DIV",{style:!0});var S=w(m);b=u(S,"IMG",{alt:!0}),S.forEach(g),h.forEach(g),this.h()},h(){d(a,"name","left"),d(a,"type","file"),d(a,"accept","image/png"),d(i,"for","left"),d(v,"alt","Left Tileset"),c(n,"display","flex"),c(n,"flex-direction","column"),d(p,"name","right"),d(p,"type","file"),d(p,"accept","image/png"),d(_,"for","right"),d(y,"alt","Right Tileset"),c(f,"display","flex"),c(f,"flex-direction","column"),d(b,"alt","Merged Tileset"),c(m,"display","flex"),c(m,"flex-direction","column"),c(e,"display","flex"),c(e,"gap","16px")},m(I,h){N(I,e,h),s(e,n),s(n,i),s(i,a),s(n,l),s(n,v),t[4](v),s(e,D),s(e,f),s(f,_),s(_,p),s(f,r),s(f,y),t[5](y),s(e,E),s(e,m),s(m,b),t[6](b),V||(G=[j(a,"change",function(){$(t[3](t[0]))&&t[3](t[0]).apply(this,arguments)}),j(p,"change",function(){$(t[3](t[1]))&&t[3](t[1]).apply(this,arguments)})],V=!0)},p(I,[h]){t=I},i:U,o:U,d(I){I&&g(e),t[4](null),t[5](null),t[6](null),V=!1,q(G)}}}function X(t,e){const n=document.createElement("canvas");n.width=t.width+e.width,n.height=Math.max(t.height,e.height);const i=n.getContext("2d");return i?(i.imageSmoothingEnabled=!1,i.resetTransform(),i.drawImage(t,0,0,t.width,t.height),i.drawImage(e,t.width,0,e.width,e.height),n.toDataURL("image/png")):""}function Y(t,e,n){let i,a,l;function v(){i&&i.complete&&a&&a.complete&&i.src!=""&&a.src!=""&&l.setAttribute("src",X(i,a))}function D(r){return y=>{if(y.target===null)return;const E=y.target.files;if(E===null)return;const m=E[0];m&&Q(m).then(b=>{r.setAttribute("src",b),r.onload=v})}}function f(r){x[r?"unshift":"push"](()=>{i=r,n(0,i)})}function _(r){x[r?"unshift":"push"](()=>{a=r,n(1,a)})}function p(r){x[r?"unshift":"push"](()=>{l=r,n(2,l)})}return[i,a,l,D,f,_,p]}class Z extends B{constructor(e){super(),C(this,e,Y,W,k,{})}}function ee(t){let e,n,i;return n=new Z({}),{c(){e=o("div"),z(n.$$.fragment),this.h()},l(a){e=u(a,"DIV",{style:!0});var l=w(e);F(n.$$.fragment,l),l.forEach(g),this.h()},h(){c(e,"display","flex"),c(e,"gap","16px"),c(e,"justify-content","space-between"),c(e,"width","100%")},m(a,l){N(a,e,l),H(n,e,null),i=!0},p:U,i(a){i||(J(n.$$.fragment,a),i=!0)},o(a){K(n.$$.fragment,a),i=!1},d(a){a&&g(e),O(n)}}}class ae extends B{constructor(e){super(),C(this,e,null,ee,k,{})}}export{ae as component};
