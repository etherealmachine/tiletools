import{s as d,b as m,f as p,o as _}from"../chunks/scheduler.9c0c050a.js";import{S as g,i as h,D as $,g as v,r as b,h as y,j as T,u as w,f,l as c,a as S,v as I,d as j,t as k,w as x}from"../chunks/index.0d064376.js";import{T as D}from"../chunks/TilesetEditor.a452e9b2.js";import{T as E}from"../chunks/Tileset.96cf75fd.js";function q(a){let s,i,n,o;function u(t){a[1](t)}let l={};return a[0]!==void 0&&(l.tileset=a[0]),i=new D({props:l}),m.push(()=>$(i,"tileset",u)),{c(){s=v("div"),b(i.$$.fragment),this.h()},l(t){s=y(t,"DIV",{style:!0});var e=T(s);w(i.$$.fragment,e),e.forEach(f),this.h()},h(){c(s,"display","flex"),c(s,"gap","16px"),c(s,"justify-content","space-between"),c(s,"width","100%")},m(t,e){S(t,s,e),I(i,s,null),o=!0},p(t,[e]){const r={};!n&&e&1&&(n=!0,r.tileset=t[0],p(()=>n=!1)),i.$set(r)},i(t){o||(j(i.$$.fragment,t),o=!0)},o(t){k(i.$$.fragment,t),o=!1},d(t){t&&f(s),x(i)}}}function A(a,s,i){let n,o;function u(e){clearTimeout(o),o=setTimeout(l,5e3)}function l(){n.syncTiles().then(e=>{const r=e.png();r&&localStorage.setItem("tileset",r.dataURL())})}_(()=>{const e=localStorage.getItem("tileset");e&&E.from(e).then(r=>{i(0,n=r)})});function t(e){n=e,i(0,n)}return a.$$.update=()=>{a.$$.dirty&1&&u()},[n,t]}class R extends g{constructor(s){super(),h(this,s,A,q,d,{})}}export{R as component};
